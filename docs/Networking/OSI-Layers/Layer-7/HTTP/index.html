<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>HTTP</title>
  <link rel="stylesheet" href="/css/styles.css"/>
  <link rel="stylesheet" href="/css/prism.css"/>
</head>


<body>
  <nav class="navbar">    <!--See .navbar in styles.css-->
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="#">Our team</a></li>
      <li><a href="#">Projects</a></li>
      <li><a href="#">Contact</a></li>
      <li>
        <form id="searchForm">
            <input type="search" id="searchInput" name="q" placeholder="Search site" />
            <input type="submit" value="Go!" />
        </form>
        </li>
    </ul>
  </nav>

  <aside class="sidebar">    <!--See .sidebar in styles.css-->
    <a href="#what">What is HTTP</a>
    <a href="#features">Features of HTTP</a>
    <a href="#adv">Advatanges, Disadvatanges</a>
    <a href="#what">HTTP Methods</a>
    <a href="#methods">Headers</a>
  </aside>

  <article style="margin-left:200px;">
    <h2 id="what">What is HTTP</h2>
    <dl>
      Client-server/Request-Response protocol. Default port 80, other can be used. Uses TCP, does not use UDP. 
      Googleâ€™s QUIC uses HTTP over UDP<br>
      HTTP Clients: Web-browser, Any process can create socket and get information from server.
    </dl>

    <h2 id="features">Features of HTTP</h2>
    <dl>
      1. CONNECTIONLESS: HTTP-client(browser) initiates an HTTP request and after a request is made, the client disconnects from the server and waits for a response. 
      server processes the request and re-establishes the connection with the client to send a response back.<br>
      2. MEDIA INDEPENDENT: Any type of data can be sent by HTTP as long as both the client and the server know how to handle the data content.<br>
      3. STATELESS: No session information is stored either by client or server.<br>
      4. Persistant & Parallel Connection: 2 access requests can be sent back-2-back without waiting for response to arrive.      
    </dl>
    <pre><code>
      Client                         Server
      <-----TCP-3-way-handshake---->
      --------GET Page-1----------->
      --------GET Page-2----------->
      <-------Page-1---------------
      <-------Page-2---------------      
    </code></pre>

    <h2 id="adv">Advatanges, Disadvatanges/pitfalls of HTTP</h2>
    <h3>Advatanges</h3>
    <dl>
      1. Flexible. Whenever there are additional capabilities needed by an application, HTTP has the capability to extend. These can include Flash players and Acrobat reader.<br>
      2. Less connections. With HTTP2 and HTTP3 multiple requests can be sent in 1 packet.<br>
      3. Network BW: Less dues to less connections as HTTP2, HTTP3 sends multiple requests in 1 connection.<br>
      4. Error reporting: Reports errors without closing the TCP connection.
    </dl>

    <h3>DisAdvatanges</h3>
    <dl>
      1. Can only be used for point to point connection.<br>
      2. Does not have push capabilities as in [Long Pooling or server sent Events](/Networking/OSI-Layers/Layer5/WebServer_to_WebClient_Connection_Methods).<br>
      3. HTTPv2 does not offer reliable exchange (without retry logic).      
    </dl>

    <h2 id="methods">HTTP Methods</h2>
    <dl>
      Method? Operations are called methods for requesting web page or content.<br>
      Safe methods? Those which donot change state of server. Eg: GET, HEAD<br>
      Read only methods? GET, OPTIONS, HEAD<br>
      Idempotent methods? A operation that will produce the same results if executed once 
      or multiple times. Eg: GET, HEAD, PUT, DELETE, TRACE, OPTIONS<br>
      CRUD Operations: Protocol should support minimum these operations/methods.      
    </dl>
    <pre><code>
      Create = POST
      Read = GET
      Update = PUT
      Delete = DELETE      
    </code></pre>

    <h2 id="headers">Headers</h2>
    <dl>
      HTTP header is a field(key:value) in an HTTP request or response that contains extra information about the request or response. 
    </dl>
    <h3>Header Types</h3>
    <h4>1. Reqeust header</h4>
    <dl>
      HTTP client uses this to provide information about the request context, so that the server can tailor the response.
    </dl>
    <table>
      <tr>
        <th>Header Name</th>
        <th>Content</th>
      </tr>
      <tr>
        <td>Accept request header</td>
        <td>
          MIME types HTTP client is able to understand.
          <pre><code class="language-css">
Accept: text/html

Accept: image/*

// General default
Accept: */*

// Default for navigation requests
Accept: text/html, application/xhtml+xml, application/xml;q=0.9, */*;q=0.8     
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>Authorization request header</td>
        <td>
          Provide credentials that authenticate a user agent with a server, allowing access to a protected resource
          <pre><code class="language-css">
Authorization: Basic <credentials>

OR

Authorization: Digest username=<username>,    //Digest(String of the hex digits that proves that the user knows a password.)
realm="<realm>",
uri="<url>",
algorithm=<algorithm>,
nonce="<nonce>",
nc=<nc>,
cnonce="<cnonce>",
qop=<qop>,
response="<response>",
opaque="<opaque>"
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>Accept-Language</td>
        <td>
          natural language and locale that the client prefers
          <pre><code class="language-css">
Accept-Language: en-US,en;q=0.5
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>Referer</td>
        <td>
          Absolute or partial address from which a resource has been requested
          <pre><code class="language-css">
Referer: https://developer.mozilla.org/en-US/docs/Web/JavaScript
Referer: https://example.com/page?q=123
Referer: https://example.com/            
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>Connection</td>
        <td>
          whether the network connection stays open after the current transaction finishes<br>
          If the value sent is keep-alive, the connection is persistent and not closed, allowing for subsequent 
          requests to the same server to be done.
          <pre><code class="language-css">
Connection: keep-alive
Connection: close    
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>Upgrade-Insecure-Requests</td>
        <td>
          sends a signal to the server expressing the client's preference for an encrypted and authenticated response
          <pre><code class="language-css">
GET / HTTP/1.1
Host: example.com
Upgrade-Insecure-Requests: 1      
          </code></pre>
        </td>
      </tr>
      <tr>
        <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Fetch_metadata_request_header">
          Fetch metadata request header</a></td>
        <td>
          - Provides additional information about the context from which the request originated.<br>
          - This allows the server to make decisions about whether a request should be allowed based on where the request came<br>
          - With this information a server can implement a resource isolation policy<br>
          - This approach can help mitigate common cross-site web vulnerabilities such as 
          <a href="https://developer.mozilla.org/en-US/docs/Glossary/CSRF">CSRF</a>, 
          Cross-site Script Inclusion('XSSI'), timing attacks, and cross-origin information leaks<br>
          - <b><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header name:</a></b> 
          These headers are prefixed with Sec-, and hence have forbidden header names.<br>
          A forbidden header name is the name of any HTTP header that cannot be modified programmatically(ie using javascript)
          <pre><code class="language-css">
Sec-Fetch-Site  
          </code></pre>
        </td>
      </tr>
    </table>

    <h4>2. Response header</h4>

    <h4>3. Representation header</h4>
    <dl>
      describes one particular representation of a resource. Data might be present as XML, JSON, HTML
    </dl>
    <table>
      <tr>
        <th>Header Name</th>
        <th>Meaning</th>
        <th>Content</th>
      </tr>
      <tr>
        <td>Content-Type header</td>
        <td>
          Indicate the original media type(sound file might be labeled audio/ogg, or an image file image/png) 
          of the resource<br>
          In requests, (such as POST or PUT), the client tells the server what type of data is actually sent.
        </td>
        <td>
          <pre><code class="language-css">
Syntax:
Content-Type: text/html; charset=utf-8
Content-Type: multipart/form-data; boundary=something
            
POST /foo HTTP/1.1
Content-Length: 68137
Content-Type: multipart/form-data; boundary=---------------------------974767299852498929531610575

-----------------------------974767299852498929531610575
Content-Disposition: form-data; name="description"

some text
-----------------------------974767299852498929531610575
Content-Disposition: form-data; name="myFile"; filename="foo.txt"
Content-Type: text/plain

(content of the uploaded file foo.txt)
-----------------------------974767299852498929531610575--
          </code></pre>
        </td>
      </tr>      
      <tr>
        <td>Content-Encoding header</td>
        <td>
          Tells any encodings that have been applied to the message payload.<br>
          This lets the recipient know how to decode the representation in order to obtain the original payload format.
        </td>
        <td>
          <pre><code class="language-css">
Syntax:
Content-Encoding: gzip
Content-Encoding: compress
Content-Encoding: deflate
Content-Encoding: br
Content-Encoding: zstd
// Multiple, in the order in which they were applied
Content-Encoding: deflate, gzip            
          </code></pre>
        </td>
      </tr>
    </table>

  </article>
  <script src="/scripts/prism.js"></script>
</body>
</html>
