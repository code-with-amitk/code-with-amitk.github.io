<!DOCTYPE html>
<html>
  <head>
    <title>SQL Issues</title>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
  </head>

<body>

    <nav class="navbar">    <!--See .navbar in styles.css-->
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="#">Our team</a></li>
          <li><a href="#">Projects</a></li>
          <li><a href="/contact.html">Contact</a></li>
          <li>
            <form id="searchForm">
                <input type="search" id="searchInput" name="q" placeholder="Search site" />
                <input type="submit" value="Go!" />
            </form>
           </li>
        </ul>
    </nav>
    
  <aside class="sidebar">
    <a href="#issues">Scaling Issues with SQL DB</a>
  </aside>

  <main>
    <article style="margin-left:200px;">
        <h3 id="issues">Scaling Issues with SQL DB</h3>
        <pre><code>
          Customer Table      Orders Table
          Id(pk) | name       OrderId | CustId (FK) | Amnt
          --------------      ----------------------------
            1    | A            101   |   1         | -
            2    | B            102   |   2         | -
            3    | C            103   |   1         | -
        </code></pre>
        <dl id="refintegrity"><strong>Referential Integrity</strong></dl>
        <dt><u>Definition:</u></dt>
        <dd>
          This is a concept that ensures the relationships between tables are maintained properly by enforcing valid data 
          in the foreign key relationships. It is a key aspect of database integrity, ensuring that the foreign key in one 
          table correctly refers to a valid primary key in another table.
        </dd>
        <dt><u>CASCADE OPERATIONS</u></dt>
        <dd>
          When a row in the referenced table (the table with the primary key) is updated or deleted, the related foreign 
          key values in the other table may need to be adjusted or removed to maintain integrity. This is often handled with 
          CASCADE operations: delete, add
        </dd>
        <dt><u>Challenges in Referential Integrity across Shards:</u></dt>
        <dd>1. Transaction Coordination: 
            if transaction requires to write data on same table in different shards, it becomes challenging.<br>
            2. Latency in data synchronization: 
            Every time you need to validate a foreign key, it may require a network call to 
            another shard, which slows down the query performances<br>
            3. Joins: 
            joins across shards are less efficient, and careful query planning is required to minimize the impact on performance<br>
            4. Orphaned Records and Inconsistent State: 
            For example, an Order record in one shard might refer to a Customer record in another shard that 
            has been deleted, leading to data inconsistencies<br>
            Data replication lag and eventual consistency models, can further complicate maintaining consistency between dependent records.
        </dd>

        <dl id="why"><strong>SQL Cannot support Large data</strong></dl>
        <dt>
            SQL stores data in tables, if more data size of table will grow.<br>
            <u>Problem with Huge tables:</u><br>
            - Searching will take time, indexing will take time<br>
            - Horizontal scaling not possible
        </dt>


        <br>
        <dl id="horiscaling"><strong>SQL Cannot support Horizontal scaling=Sharding efficiently</strong></dl>
        <dt>
            Sharding a relational database involves dividing the dataset into shards (partitions) and distributing them across multiple servers.<br>
            <u>Problem with Huge tables:</u><br>
            - Searching will take time, indexing will take time<br>
            - Horizontal scaling not possible
            - <a href="#refintegrity">Referential Integrity</a>
        </dt>

    </article>
  </main>

</body>
</html>
