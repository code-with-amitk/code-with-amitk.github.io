<!DOCTYPE html>
<html>
  <head>
    <title>Terms</title>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
  </head>

<body>
  <nav class="navbar">    <!--See .navbar in styles.css-->
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="#">Our team</a></li>
      <li><a href="#">Projects</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li>
        <form id="searchForm">
            <input type="search" id="searchInput" name="q" placeholder="Search site" />
            <input type="submit" value="Go!" />
        </form>
        </li>
    </ul>
  </nav>
  <aside class="sidebar">
    <a href="#as">Application Server</a>
    <a href="#jwt">Json Web Token</a>
  </aside>

  <main style="margin-left:200px;">
    <h2 id="as">Application Server</h2>
    <dl>
      This handles the business logic of application.
    </dl>

    <h2 id="jwt">Json Web Token</h2>
    <dl><strong>Usage?</strong></dl>
    <dt>For authentication on the web, ie authentication to RESTFul APIs
        They are used to securely transmit information between parties as a JSON object.<br>
        JWTs consist of three parts: [header + payload + signature].
        These parts are concatenated together with dots to form the token
    </dt>

    <br>
    <dl><strong>How JWTs are used for authentication</strong></dl>
    <pre class="mermaid">
        sequenceDiagram
            rect rgb(221, 240, 221)
            participant ub as User-Browser
            participant app as Application<br>Storing user,pass
            participant ra as RESTFul Application

            note over ub: open https://test.com
            app -> ub: TLS handshake
            note over ub: session key
            note over app: session key
            ub ->> app: username, pass(encrypted using session key)
            note over app: Verifies user,Pass
            note over app: Create JWT=Json Object<br> Sends
            app ->> ub: JWT=(header + payload(username) + signature(Digital signature of payload))
            note over ub: Stores JWT in cookie or cache
            ub ->> ra: CRUD(header(bearer token=JWT) + Body)
            ra ->> app: verify JWT
            app ->> ra: Valid
        end

    </pre>

  </main>

  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.7.0/dist/mermaid.esm.min.mjs';
  </script>	
</body>
</html>
