<!DOCTYPE html>
<html>
<head>
    <title>SAML</title>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
    <!-- Add any necessary CSS and JavaScript files -->
</head>
<body>
    <nav class="navbar">    <!--See .navbar in styles.css-->
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="#">Our team</a></li>
            <li><a href="#">Projects</a></li>
            <li><a href="/contact.html">Contact</a></li>
          <li>
            <form>
                <input type="search" name="q" placeholder="Search site" />
                <input type="submit" value="Go!" />
            </form>
           </li>
        </ul>
    </nav>

    <aside class="sidebar">    <!--See .sidebar in styles.css-->
        <a href="#what">What is SAML</a>
        <a href="#work">How SAML works</a>
        <ul>
            <li><a href="#assertion">SAML Assertion</a></li>
        </ul>
    </aside>

    <article style="margin-left:200px;">
        <h2 id="what">What is SAML</h2>
        <dl>
            Security based XML protocol for user authentication, limited user authorization. 
            More advanced authorization is suggested to use XACML.<br>
            SAML helps in achieving SSO(Single Sign On). SAML usses SOAP 1.1. It uses 
            [HTTP](Networking/OSI-Layers/Layer-7/Protocols) underlying.
        </dl>
        <h4>Usage of SAML</h4>
        <dl>
            XML Digital Signature for authentication and Integrity.
            XML Encryption: Uses encrypted name identifiers, encrypted attributes, and encrypted assertions
        </dl>

        <h2 id="work">How SAML works</h2>
        <dl>
            SSO authentication process involves these 3 parties:<br>

            <b>a. Principal/Subject:</b> Identity/Human which need to be authenticated<br>
            <b>b. Identity Provider(IdP):</b> Authenticates the principal. Methods: Username/password, Multifactor auth, AD, ldap, radius etc.<br>
            <b>c. Service Provider(SP):</b> cloud-hosted application or service the user wants to use. Eg: Gmail, AWS S3 etc.<br>
            3 types of SAML Queries: Authentication query, Attribute query, Authorization decision query
        </dl>
        
        <h4>Message Exchange</h4>
        <pre><code class="language-css">
Principal/User                SP(service Provider)
---Give access to cloud service-->                        IdP(Identity Provider)
                                    -----SAML Request------>
                                    <-----SAML Response-----

<-------------------  Login   ----------------------------------
--------------------  Password  ------------------------------->
    
                                    <----- SAML Assertion --------
<------- Given Access ---- Access
------------------------------------Access Service ----------------------------> Cloud-Service
        </code></pre>

        <h4>SAML Request, Response Example</h4>
        <pre><code class="language-css">
SP(service provider)                                         Identity Provider
samlp:AuthnRequest 
    xmlns:samlp="urn:oasis:names:tc:SAML:2.0"
    ID ="asknalskn"		//Identifier(generated by SP)
    IssueInstant="2017-02-02:12:56"	//SP can accept response before this time
    Destination="http://test.sp.com"	//URL of SP
    AssertionConsumerServiceURL=".."	//Where response should goto when user is authenticated
    Issuer=".."			//
samlp:AuthnRequest			               ------------------------>

SP(service provider)                                         Identity Provider
                                                    ID="requestID"
                                                    Destination=""				//Assertion consumer service
                                                    saml2:Assertion xmlns:saml2=".."//Multiple signed assertions
                                                    saml2:Condtions NotBefore="2017-02-02" Not-After=""//Validity windows for response
            <-----------------------                ...
        </code></pre>

        <h4 id="assertion">SAML Assertion</h4>
        <dl>
            Message that tells a service provider that a user is signed in.<br>
            It contains all information, Eg: source of assertion, time issued.<br>
            There are 3 kinds of assertion:<br>
            <b>1. Authentication statements:</b> assert to the service provider that the principal did indeed authenticate with the identity provider<br>
            <b>2. Attribute statements:</b> principal is associated with certain attributes (name/value pairs).<br>
            <b>3. Authorization decision statements:</b> principal is permitted to perform action A on resource R given evidence E.
        </dl>

    </article>
    <script src="/scripts/prism.js"></script>

</body>
</html>
