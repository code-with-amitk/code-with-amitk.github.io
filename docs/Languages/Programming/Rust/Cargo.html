<!DOCTYPE html>
<html>
    <head>
        <title>Cargo</title>
        <link rel="stylesheet" href="/css/styles.css"/>
        <link rel="stylesheet" href="/css/prism.css"/>
        <!-- Add any necessary CSS and JavaScript files -->
    </head>
    <body>
        <nav class="navbar">
            <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Our team</a></li>
            <li><a href="#">Projects</a></li>
            <li><a href="#">Contact</a></li>
            <li>
                <form>
                    <input type="search" name="q" placeholder="Search site" />
                    <input type="submit" value="Go!" />
                </form>
            </li>
            </ul>
        </nav>

        <aside class="sidebar">    <!--See .sidebar in styles.css-->
            <a href="#what">What is cargo</a>
            <a href="">cargo commands</a>
            <ul>
                <li><a href="#build">cargo build</a></li>
                <li><a href="#doc">cargo doc</a></li>
                <li><a href="#publish">cargo publish</a></li>
                <li><a href="#install">cargo install</a></li>
            </ul>
        </aside>

        <article style="margin-left:200px;">
            <h2 id="what">What is cargo</h2>
            <dl>
                Cargo is Rust's build system and package manager. It downloads dependencies,libraries from 
                crates.io(public repo for libraries). Rust can also be build using cmake.
            </dl>

            <h2>cargo commands</h2>
            <h3 id="build">cargo build</h3>
            <dl>
                This it used to build the project. <br>
                Cargo.toml is Cargo's configuration format. src directory contains source code
            </dl>
            <pre><code class="language-css">
//1. Create a project named hello_cargo. it creates cargo.toml, src directory
$ cargo new hello_cargo
$ cd hello_cargo; dir
    Cargo.toml      //file
    src             //dir

$ vim Cargo.toml
[package]
name = "hello_cargo"
version = "0.1.0"
authors = ["amitk"]
edition = "2018"
[dependencies]

$ cd src; cat main.rs
fn main() {
    println!("Hello, world!");
}

//2. Build project. exe is placed in target/debug
# cargo build                                                   //opt-level = 0
    Finished dev [unoptimized + debuginfo] target(s) in 0.0s
$ cargo build --release                                         //opt-level = 3
    Finished release [optimized] target(s) in 0.0s
# dir
target/debug/hello_cargo
            </code></pre>

            <h3 id="doc">cargo doc</h3>
            <dl>
                Documentation comments use three slashes, ///.We place documentation comments just before the item we want to document.<br>
                Crate Comments //! describes the purpose of my_crate
            </dl>
            <pre><code class="language-css">
//! # My Crate
//!
//! `my_crate` is a collection of utilities to make performing certain calculations more convenient.

pub struct test {   //Adding description to struct fields
    /// a text
    a: String,
    /// b text
    b: String,
}

struct Solution{}

impl Solution {
/// add()
/// # Examples
/// ```
/// let a = 5, b=4;
/// let answer = Solution::add(a, b);
///
/// assert_eq!(9, answer);
/// ```
    fn add(a:i32, b:i32)->i32{
        a + b
    }
}

fn main() {
    println!("Hi");
}

$ cargo doc
    Documentation in target\doc
$ cargo doc --open                //Will open Front page of create root  
$ cargo test add()                //This will run test case in documentation
            </code></pre>

            <h3 id="publish">cargo publish</h3>
            <dl>
                We can publish crate on crates.io for others to use it.<br>
                Steps to publish:
            </dl>
            <pre><code class="language-css">
Steps to publish

1. Login to https://crates.io/ using github account
2. https://crates.io/me/ Get API Key. Run cargo login with API key. 
This is authentication token and will be stored in ~/.cargo/credentials
$ cargo login abcdefghijklmnopqrstuvwxyz012345

3. Write code, Choose unique name, provide license and publish
$ vim src\test.rs
..
$ cat cargo.toml
[package]
name = "guessing_game"
version = "0.1.0"
authors = ["Your Name <you@example.com>"]
edition = "2018"
description = "A fun game where you guess what number the computer has chosen."
license = "MIT OR Apache-2.0"
[dependencies]

$ cargo publish

//republish, ie we have new version want to publish
- change version in cargo.toml
$ cargo publish       

//Remove particular version
$ cargo yank --vers 0.1.0
            </code></pre>

            <h3 id="install">cargo install</h3>
            <dl>
                Allows to install a binary crate locally.<br>
                All binaries installed with cargo install are stored in the installation rootâ€™s bin folder.
            </dl>
            <pre><code class="language-css">
$ cargo install ripgrep   //Installing ropgrep binary crate
            </code></pre>

        </article>

        <script src="/scripts/prism.js"></script>
    </body>
</html>
