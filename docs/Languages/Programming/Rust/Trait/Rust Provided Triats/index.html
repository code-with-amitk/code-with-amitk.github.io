<!DOCTYPE html>
<html>
<head>
    <title>Rust Provided Triats</title>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
</head>
<body>
    <nav class="navbar">    <!--See .navbar in styles.css-->
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="#">Our team</a></li>
            <li><a href="#">Projects</a></li>
            <li><a href="/contact.html">Contact</a></li>
          <li>
            <form>
                <input type="search" name="q" placeholder="Search site" />
                <input type="submit" value="Go!" />
            </form>
           </li>
        </ul>
    </nav>

    <aside class="sidebar">    <!--See .sidebar in styles.css-->
        <a href="#copyclone">Copy & Clone trait</a>
        <a href="#default">default trait</a>
        <a href="#drop">drop trait</a>
        <a href="#future">future trait</a>
        <a href="#iterator">Iterator trait</a>
    </aside>

    <article style="margin-left:200px;">
        <h2 id="copyclone">Copy & Clone Triats</h2>
        <dl>Both are used for duplicating the values.</dl>
        <dl style="color:red;">All types that implement Copy must also implement Clone, but the reverse is not true</dl>
        <table>
            <tr>
                <th></th>
                <th>Copy (Shallow Copy)</th>
                <th>Clone (Deep Copy)</th>
            </tr>
            <tr>
                <td>What</td>
                <td>Type implementing(copy triat) can be duplicated simply by Bitwise Copying</td>
                <td>For types that require more complex duplication logic.</td>
            </tr>
            <tr>
                <td>Efficient</td>
                <td>More efficient since it involves a simple bitwise copy</td>
                <td>May involve more complex operations and potentially higher overhead</td>
            </tr>
            <tr>
                <td>Used for</td>
                <td>Simple scalar types(Eg: int, struct containing simple types)</td>
                <td>For complex datatypes which manage resources on heap(like String, Vec, etc)</td>
            </tr>
            <tr>
                <td>Example</td>
                <td>
                    <pre><code class="language-css">
// Only Copy triat is used, but to use
// Copy, we need to derive Clone
#[derive(Copy, Clone)]
pub struct S {
    x : i32,
    y : i32,
}
fn main() {
    let a = S {
        x: 1,
        y: 5,
    };
    let b = a;
    println!("b = {}, {}", b.x, b.y);
}
                </td>
                <td>
                    <pre><code class="language-css">
#[derive(Clone)]
pub struct S {
    x : Vec<i32>,
}
fn main() {
    let a = S {
        x: vec![1,2,3],
    };
    let b = a;
    for i in 0..b.x.len() {
        println!("{} ", b.x[i]);
    }
}
                    </code></pre>
                </td>
            </tr>
        </table>

        <h2 id="default">Default trait</h2>
        <dl>Used to give default value</dl>
        <table>
            <tr>
                <th>#[derive(Default)]</th>
                <th>Default value by user</th>
            </tr>
            <tr>
                <td>
                    Rust to provide Default implementation
                    <pre><code class="language-css">
#[derive(Default)]
pub struct Test {
    a : i32,
}
fn main() {
    let test1: Test = Default::default();
    println!("{}",test1.a);
}
$ cargo run
0        //0 is initialized by rust system
                    </code></pre>
                </td>
                <td>
                    User overrides the default() function provided by Default Trait
                    <pre><code class="language-css">
pub struct test {
    a : i32,
}
impl Default for test{
    fn default() -> Self {
        Self {
            a: 48,
        }
    }
}
fn main() {
    let test1: Test = Default::default();
    println!("{}",test1.a);             //48
}
                    </code></pre>
                </td>
            </tr>
        </table>

        <h2 id="drop">drop trait</h2>
        <dl>
            Custom code within the destructor.<br>
            When a value is no longer needed, Rust runs a “destructor” on that value, but if we want to perform some 
            task in destructor, use drop trait.
        </dl>
        <pre><code class="language-css">
#[derive(Default)]
pub struct S {
    x : i32,
}
impl Drop for S {
    fn drop(&mut self){
        println!("Dropping");
    }
}
fn main() {
    {
        let s:S = Default::default();
        println!("{}", s.x);
    }
    println!("After scope");
}
$ cargo run
0
Dropping
After scope
        </code></pre>

        <h2 id="future">future trait</h2>
        <dl>
            future is a "asynchronous value" that may not have finished computing yet. 
            Thread waits on future to become available. These are similar to epoll(), not smilar to poll() or select().
        </dl>
        <pre><code class="language-css">
pub trait Future {
    //The type of value produced on completion.
    type Output;                 
    
    /*Description:
        This method resolves future into a final value. This is aync method does not block if value is not ready
        Returns:
        Poll::Pending if the future is not ready. 
        Poll::Ready(val) with the result val of this future if it finished successfully.
        */
    fn poll(self: Pin &lt;&mut Self>, cx: &mut Context &lt;'_>) -> Poll &lt;Self::Output>;
}
        </code></pre>

        <h2 id="iterator">Iterator trait</h2>
        <dl>
            Used for processing sequences of data, allowing you to traverse or consume elements one by one.<br>
            With Iterators only Rust handles collections, streams of data, and other sequential operations.
        </dl>
        <pre><code class="language-css">
pub trait Iterator {
    type Item;  // The type of the elements being iterated over.
    fn next(&mut self) -> Option<Self::Item>;       //The Iterator trait requires one method to be implemented
}            
        </code></pre>

    </article>

    <script src="/scripts/prism.js"></script>
</body>
</html>
